---
layout: default
title: "Mapas"
---

<h1>{{ page.title }}</h1>

<!-- Filtro por categoría -->
<label for="categoryFilter">Filtrar por categoría:</label>
<select id="categoryFilter" onchange="filterMapsAdvanced()">
  <option value="all">Todas</option>
  {% assign categories = site.mapas | map: "category" | uniq %}
  {% for cat in categories %}
    <option value="{{ cat }}">{{ cat }}</option>
  {% endfor %}
</select>

<!-- Lista de mapas -->
<ul class="map-list">
  {% for map in site.mapas %}
    {% assign start = map.markers[0].coords %}
    {% assign end = map.route[1] %}
    <li class="map-item" data-category="{{ map.category }}">
      <!-- Miniatura -->
      <img src="{{ map.thumbnail }}" alt="{{ map.title }}">
      <div class="overlay">
        <h3>{{ map.title }}</h3>
        {% if map.tips %}
          <p>{{ map.tips | truncate: 100 }}</p>
        {% endif %}
        <a class="view-map-btn" 
           href="https://www.google.com/maps/dir/{{ start[0] }},{{ start[1] }}/{{ end[0] }},{{ end[1] }}" 
           target="_blank">
           Abrir en Google Maps
        </a>
      </div>
    </li>
  {% endfor %}
</ul>

<style>
.map-list {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  list-style: none;
  padding: 0;
}
.map-item {
  position: relative;
  flex: 1 1 calc(33% - 20px);
  min-width: 250px;
  overflow: hidden;
  border-radius: 8px;
  cursor: pointer;
  transition: transform 0.3s;
}
.map-item img {
  width: 100%;
  display: block;
  object-fit: cover;
  height: 150px;
}
.map-item:hover { transform: translateY(-5px); }
.overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(0,0,0,0.6);
  color: #fff;
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 5px;
}
.overlay h3 { margin: 0; }
.overlay p { font-size: 0.9rem; margin: 0; }
.view-map-btn {
  background: #0077cc;
  border: none;
  padding: 5px 10px;
  color: #fff;
  border-radius: 4px;
  text-decoration: none;
  text-align: center;
  display: inline-block;
  margin-top: 5px;
}
.view-map-btn:hover { background: #005fa3; }

/* Responsive */
@media (max-width: 992px) { .map-item { flex: 1 1 calc(50% - 20px); } }
@media (max-width: 600px) { .map-item { flex: 1 1 100%; } }
</style>

<script>
/* Filtrado por categoría */
function filterMapsAdvanced() {
  const filter = document.getElementById('categoryFilter').value;
  const items = document.querySelectorAll('.map-item');
  items.forEach(item => {
    item.style.display = (filter === 'all' || item.dataset.category === filter) ? 'block' : 'none';
  });
}
</script>
